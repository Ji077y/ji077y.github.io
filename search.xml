<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>hexo-增加个性化运行时间和粒子时钟</title>
    <url>/archives/b3667c2d.html</url>
    <content><![CDATA[<h2 id="个性化网站运行时间"><a href="#个性化网站运行时间" class="headerlink" title="个性化网站运行时间"></a>个性化网站运行时间</h2><p>参考<a href="http://yearito.cn/posts/hexo-advanced-settings.html" target="_blank" rel="noopener">站点运行时间统计</a></p>
<blockquote>
<p>基于<strong>hexo 4.2.0</strong>和<strong>next主题 7.7.1</strong></p>
</blockquote>
<a id="more"></a>

<h3 id="在custom-swig中添加代码"><a href="#在custom-swig中添加代码" class="headerlink" title="在custom.swig中添加代码"></a>在custom.swig中添加代码</h3><figure class="highlight html"><figcaption><span>文件路径：themes\next\layout\_custom\custom.swig</span></figcaption><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;# 页脚站点运行时间统计 #&#125; &#123;% if theme.footer.ages.enable %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/moment@2.22.2/moment.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/moment-precise-range-plugin@1.3.0/moment-precise-range.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">timer</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> ages = moment.preciseDiff(moment(),moment(&#123;&#123; theme.footer.ages.birthday &#125;&#125;,<span class="string">"YYYYMMDD"</span>));</span></span><br><span class="line"><span class="javascript">    ages = ages.replace(<span class="regexp">/years?/</span>, <span class="string">"年"</span>);</span></span><br><span class="line"><span class="javascript">    ages = ages.replace(<span class="regexp">/months?/</span>, <span class="string">"月"</span>);</span></span><br><span class="line"><span class="javascript">    ages = ages.replace(<span class="regexp">/days?/</span>, <span class="string">"天"</span>);</span></span><br><span class="line"><span class="javascript">    ages = ages.replace(<span class="regexp">/hours?/</span>, <span class="string">"小时"</span>);</span></span><br><span class="line"><span class="javascript">    ages = ages.replace(<span class="regexp">/minutes?/</span>, <span class="string">"分"</span>);</span></span><br><span class="line"><span class="javascript">    ages = ages.replace(<span class="regexp">/seconds?/</span>, <span class="string">"秒"</span>);</span></span><br><span class="line"><span class="handlebars"><span class="xml">    ages = ages.replace(/\d+/g, '<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"color:</span></span></span><span class="template-variable">&#123;&#123; theme.footer.ages.color &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span>$&amp;<span class="tag">&lt;/<span class="name">span</span>&gt;</span>');</span></span></span><br><span class="line"><span class="javascript">    div.innerHTML = <span class="string">`&#123;&#123; __('几米的猫儿在这里等了你')&#125;&#125; <span class="subst">$&#123;ages&#125;</span>`</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span></span><br><span class="line"><span class="actionscript">  <span class="comment">//插入到copyright之后</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> copyright = <span class="built_in">document</span>.querySelector(<span class="string">".copyright"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.querySelector(<span class="string">".footer-inner"</span>).insertBefore(div, copyright.nextSibling);</span></span><br><span class="line">  timer();</span><br><span class="line"><span class="actionscript">  setInterval(<span class="string">"timer()"</span>,<span class="number">1000</span>)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<p>custom.swig文件不存在，需要自己手动创建,如下图所示：</p>
<p><img src="http://q54tnf1e7.bkt.clouddn.com/20200301014259.png?imageView2/0/interlace/1/q/88%7Cwatermark/2/text/QOWHoOexs-Wkp-Wkpw==/font/5qW35L2T/fontsize/560/fill/IzNEM0Q0Ng==/dissolve/66/gravity/SouthEast/dx/10/dy/10%7Cimageslim" alt=""></p>
<h3 id="在布局页面中引入"><a href="#在布局页面中引入" class="headerlink" title="在布局页面中引入"></a>在布局页面中引入</h3><figure class="highlight html"><figcaption><span>文件路径：themes\next\layout\_layout.swig</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"&#123;&#123; config.language &#125;&#125;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  &#123;&#123; partial('_partials/head/head.swig', &#123;&#125;, &#123;cache: theme.cache.enable&#125;) &#125;&#125;</span><br><span class="line">  &#123;% include '_partials/head/head-unique.swig' %&#125;</span><br><span class="line">  &#123;&#123;- next_inject('head') &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;% block title %&#125;&#123;% endblock %&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  &#123;&#123; partial('_third-party/analytics/index.swig', &#123;&#125;, &#123;cache: theme.cache.enable&#125;) &#125;&#125;</span><br><span class="line">  &#123;&#123; partial('_scripts/noscript.swig', &#123;&#125;, &#123;cache: theme.cache.enable&#125;) &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">itemscope</span> <span class="attr">itemtype</span>=<span class="string">"http://schema.org/WebPage"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container&#123;%- if theme.motion.enable %&#125; use-motion&#123;%- endif %&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"headband"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"header"</span> <span class="attr">itemscope</span> <span class="attr">itemtype</span>=<span class="string">"http://schema.org/WPHeader"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header-inner"</span>&gt;</span>&#123;% include '_partials/header/index.swig' %&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    &#123;&#123; partial('_partials/widgets.swig', &#123;&#125;, &#123;cache: theme.cache.enable&#125;) &#125;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main-inner"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content-wrap"</span>&gt;</span></span><br><span class="line">          &#123;% include '_partials/header/sub-menu.swig' %&#125;</span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">            &#123;% block content %&#125;&#123;% endblock %&#125;</span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          &#123;% include '_partials/comments.swig' %&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        &#123;%- if theme.sidebar.display !== 'remove' %&#125;</span><br><span class="line">          &#123;% block sidebar %&#125;&#123;% endblock %&#125;</span><br><span class="line">        &#123;%- endif %&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer-inner"</span>&gt;</span></span><br><span class="line">        &#123;&#123; partial('_partials/footer.swig', &#123;&#125;, &#123;cache: theme.cache.enable&#125;) &#125;&#125;</span><br><span class="line">        &#123;&#123; partial('_third-party/statistics/index.swig', &#123;&#125;, &#123;cache: theme.cache.enable&#125;) &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &#123;&#123; partial('_scripts/index.swig', &#123;&#125;, &#123;cache: theme.cache.enable&#125;) &#125;&#125;</span><br><span class="line">  &#123;&#123; partial('_third-party/index.swig', &#123;&#125;, &#123;cache: theme.cache.enable&#125;) &#125;&#125;</span><br><span class="line"></span><br><span class="line">  &#123;%- if theme.pjax %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"pjax"</span>&gt;</span></span><br><span class="line">  &#123;%- endif %&#125;</span><br><span class="line">  &#123;% include '_third-party/math/index.swig' %&#125;</span><br><span class="line">  &#123;% include '_third-party/quicklink.swig' %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;&#123;- next_inject('bodyEnd') &#125;&#125;</span><br><span class="line">  &#123;%- if theme.pjax %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  &#123;%- endif %&#125;</span><br><span class="line">+  &#123;% include '_custom/custom.swig' %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h3><p>next主题在7.7.1中将用户自定义文件与站点原有配置分离了，分离的目的是为了后续更方便的升级操作，因为所有的用户自定义配置都独立出来了。</p>
<figure class="highlight yml"><figcaption><span>文件路径:\Blognew\source\_data\netx.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="comment"># Specify the date when the site was setup. If not defined, current year will be used.</span></span><br><span class="line">  <span class="attr">since:</span> <span class="string">Weeny</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Icon between year and copyright info.</span></span><br><span class="line">  <span class="attr">icon:</span></span><br><span class="line">    <span class="comment"># Icon name in Font Awesome. See: https://fontawesome.com/v4.7.0/icons/</span></span><br><span class="line">    <span class="comment"># `heart` is recommended with animation in red (#ff0000).</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">heart</span></span><br><span class="line">    <span class="comment"># If you want to animate the icon, set it to true.</span></span><br><span class="line">    <span class="attr">animated:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Change the color of icon, using Hex Code.</span></span><br><span class="line">    <span class="attr">color:</span> <span class="string">"#ff0000"</span></span><br><span class="line"></span><br><span class="line"><span class="string">+</span>  <span class="attr">ages:</span></span><br><span class="line"><span class="string">+</span>  <span class="comment"># site running time</span></span><br><span class="line"><span class="string">+</span>    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">+</span>  <span class="comment"># birthday of your site</span></span><br><span class="line"><span class="string">+</span>    <span class="attr">birthday:</span> <span class="number">20200202</span></span><br><span class="line"><span class="string">+</span>  <span class="comment"># color of number</span></span><br><span class="line"><span class="string">+</span>    <span class="attr">color:</span> <span class="string">"#1890ff"</span></span><br><span class="line">  <span class="comment"># If not defined, `author` from Hexo `_config.yml` will be used.</span></span><br><span class="line">  <span class="attr">copyright:</span></span><br></pre></td></tr></table></figure>

<h3 id="在语言文件中添加ages引用"><a href="#在语言文件中添加ages引用" class="headerlink" title="在语言文件中添加ages引用"></a>在语言文件中添加ages引用</h3><figure class="highlight yml"><figcaption><span>文件路径：themes\next\languages\zh-CN.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"> <span class="attr">footer:</span></span><br><span class="line">   <span class="attr">powered:</span> <span class="string">"由 %s 强力驱动"</span></span><br><span class="line">   <span class="attr">theme:</span> <span class="string">主题</span></span><br><span class="line"><span class="string">+</span>  <span class="attr">ages:</span> <span class="string">猫儿已在此等候你</span></span><br><span class="line">   <span class="attr">total_views:</span> <span class="string">经历</span> <span class="string">%s</span> <span class="string">次回眸才与你相遇</span></span><br><span class="line">   <span class="attr">total_visitors:</span> <span class="string">我的第</span> <span class="string">%s</span> <span class="string">位朋友</span></span><br></pre></td></tr></table></figure>

<p>然后hexo s查看预览效果即可。</p>
<h2 id="添加canvas粒子时钟"><a href="#添加canvas粒子时钟" class="headerlink" title="添加canvas粒子时钟"></a>添加canvas粒子时钟</h2><p>在网上看到的一款不错的<a href="https://www.liaofuzhan.com/posts/2114475547.html" target="_blank" rel="noopener">canvas粒子时钟</a>,整合到自己的博客里来，因为第一次的搭建把很多文件的引用修改乱了，这次更新记录一下为好</p>
<h3 id="手动新建clock-swig文件"><a href="#手动新建clock-swig文件" class="headerlink" title="手动新建clock.swig文件"></a>手动新建clock.swig文件</h3><figure class="highlight html"><figcaption><span>文件路径：\themes\next\layout\_coustom\clock.swig</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">style</span>=<span class="string">"width:60%;"</span>&gt;</span>当前浏览器不支持canvas，请更换浏览器后再试<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">   <span class="keyword">var</span> digit=</span></span><br><span class="line">    [</span><br><span class="line">        [</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,1,1,0,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,0,1,1,0],</span><br><span class="line">            [0,0,1,1,1,0,0]</span><br><span class="line"><span class="actionscript">        ],<span class="comment">//0</span></span></span><br><span class="line">        [</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,1,1,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [1,1,1,1,1,1,1]</span><br><span class="line"><span class="actionscript">        ],<span class="comment">//1</span></span></span><br><span class="line">        [</span><br><span class="line">            [0,1,1,1,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,1,1,0,0,0],</span><br><span class="line">            [0,1,1,0,0,0,0],</span><br><span class="line">            [1,1,0,0,0,0,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,1,1,1,1,1]</span><br><span class="line"><span class="actionscript">        ],<span class="comment">//2</span></span></span><br><span class="line">        [</span><br><span class="line">            [1,1,1,1,1,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,1,1,0]</span><br><span class="line"><span class="actionscript">        ],<span class="comment">//3</span></span></span><br><span class="line">        [</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,1,0],</span><br><span class="line">            [0,0,1,1,1,1,0],</span><br><span class="line">            [0,1,1,0,1,1,0],</span><br><span class="line">            [1,1,0,0,1,1,0],</span><br><span class="line">            [1,1,1,1,1,1,1],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,1,1]</span><br><span class="line"><span class="actionscript">        ],<span class="comment">//4</span></span></span><br><span class="line">        [</span><br><span class="line">            [1,1,1,1,1,1,1],</span><br><span class="line">            [1,1,0,0,0,0,0],</span><br><span class="line">            [1,1,0,0,0,0,0],</span><br><span class="line">            [1,1,1,1,1,1,0],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,1,1,0]</span><br><span class="line"><span class="actionscript">        ],<span class="comment">//5</span></span></span><br><span class="line">        [</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,1,1,0,0,0],</span><br><span class="line">            [0,1,1,0,0,0,0],</span><br><span class="line">            [1,1,0,0,0,0,0],</span><br><span class="line">            [1,1,0,1,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,1,1,0]</span><br><span class="line"><span class="actionscript">        ],<span class="comment">//6</span></span></span><br><span class="line">        [</span><br><span class="line">            [1,1,1,1,1,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,0,1,1,0,0,0],</span><br><span class="line">            [0,0,1,1,0,0,0],</span><br><span class="line">            [0,0,1,1,0,0,0],</span><br><span class="line">            [0,0,1,1,0,0,0]</span><br><span class="line"><span class="actionscript">        ],<span class="comment">//7</span></span></span><br><span class="line">        [</span><br><span class="line">            [0,1,1,1,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,1,1,0]</span><br><span class="line"><span class="actionscript">        ],<span class="comment">//8</span></span></span><br><span class="line">        [</span><br><span class="line">            [0,1,1,1,1,1,0],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [1,1,0,0,0,1,1],</span><br><span class="line">            [0,1,1,1,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,0,1,1],</span><br><span class="line">            [0,0,0,0,1,1,0],</span><br><span class="line">            [0,0,0,1,1,0,0],</span><br><span class="line">            [0,1,1,0,0,0,0]</span><br><span class="line"><span class="actionscript">        ],<span class="comment">//9</span></span></span><br><span class="line">        [</span><br><span class="line">            [0,0,0,0,0,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,0,0,0,0,0],</span><br><span class="line">            [0,0,0,0,0,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,1,1,1,0,0],</span><br><span class="line">            [0,0,0,0,0,0,0]</span><br><span class="line"><span class="actionscript">        ]<span class="comment">//:</span></span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</span></span><br><span class="line"></span><br><span class="line">if(canvas.getContext)&#123;</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> cxt = canvas.getContext(<span class="string">'2d'</span>);</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//声明canvas的宽高</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> H = <span class="number">100</span>,W = <span class="number">700</span>;</span></span><br><span class="line">    canvas.height = H;</span><br><span class="line">    canvas.width = W;</span><br><span class="line"><span class="actionscript">    cxt.fillStyle = <span class="string">'#f00'</span>;</span></span><br><span class="line">    cxt.fillRect(10,10,50,50);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">//存储时间数据</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> data = [];</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//存储运动的小球</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> balls = [];</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//设置粒子半径</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> R = canvas.height/<span class="number">20</span><span class="number">-1</span>;</span></span><br><span class="line"><span class="actionscript">    (<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> temp = <span class="regexp">/(\d)(\d):(\d)(\d):(\d)(\d)/</span>.exec(<span class="keyword">new</span> <span class="built_in">Date</span>());</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//存储时间数字，由十位小时、个位小时、冒号、十位分钟、个位分钟、冒号、十位秒钟、个位秒钟这7个数字组成</span></span></span><br><span class="line">        data.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);</span><br><span class="line">    &#125;)();</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">/*生成点阵数字*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">renderDigit</span><span class="params">(index,num)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; digit[num].length; i++)&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; digit[num][i].length; j++)&#123;</span></span><br><span class="line">                if(digit[num][i][j] == 1)&#123;</span><br><span class="line">                    cxt.beginPath();</span><br><span class="line"><span class="javascript">                    cxt.arc(<span class="number">14</span>*(R+<span class="number">2</span>)*index + j*<span class="number">2</span>*(R+<span class="number">1</span>)+(R+<span class="number">1</span>),i*<span class="number">2</span>*(R+<span class="number">1</span>)+(R+<span class="number">1</span>),R,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI);</span></span><br><span class="line">                    cxt.closePath();</span><br><span class="line">                    cxt.fill();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">/*更新时钟*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">updateDigitTime</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> changeNumArray = [];</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> temp = <span class="regexp">/(\d)(\d):(\d)(\d):(\d)(\d)/</span>.exec(<span class="keyword">new</span> <span class="built_in">Date</span>());</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> NewData = [];</span></span><br><span class="line">        NewData.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);</span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = data.length<span class="number">-1</span>; i &gt;=<span class="number">0</span> ; i--)&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">//时间发生变化</span></span></span><br><span class="line">            if(NewData[i] !== data[i])&#123;</span><br><span class="line"><span class="actionscript">                <span class="comment">//将变化的数字值和在data数组中的索引存储在changeNumArray数组中</span></span></span><br><span class="line"><span class="javascript">                changeNumArray.push(i+<span class="string">'_'</span>+(<span class="built_in">Number</span>(data[i])+<span class="number">1</span>)%<span class="number">10</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="actionscript">        <span class="comment">//增加小球</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; changeNumArray.length; i++)&#123;</span></span><br><span class="line"><span class="actionscript">            addBalls.apply(<span class="keyword">this</span>,changeNumArray[i].split(<span class="string">'_'</span>));</span></span><br><span class="line">        &#125;</span><br><span class="line">        data = NewData.concat();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">/*更新小球状态*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">updateBalls</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; balls.length; i++)&#123;</span></span><br><span class="line">            balls[i].stepY += balls[i].disY;</span><br><span class="line">            balls[i].x += balls[i].stepX;</span><br><span class="line">            balls[i].y += balls[i].stepY;</span><br><span class="line">            if(balls[i].x &gt; W + R || balls[i].y &gt; H + R)&#123;</span><br><span class="line">                balls.splice(i,1);</span><br><span class="line">                i--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">/*增加要运动的小球*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">addBalls</span><span class="params">(index,num)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> numArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> colorArray =  [<span class="string">"#3BE"</span>,<span class="string">"#09C"</span>,<span class="string">"#A6C"</span>,<span class="string">"#93C"</span>,<span class="string">"#9C0"</span>,<span class="string">"#690"</span>,<span class="string">"#FB3"</span>,<span class="string">"#F80"</span>,<span class="string">"#F44"</span>,<span class="string">"#C00"</span>];</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; digit[num].length; i++)&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; digit[num][i].length; j++)&#123;</span></span><br><span class="line">                if(digit[num][i][j] == 1)&#123;</span><br><span class="line"><span class="actionscript">                    <span class="keyword">var</span> ball = &#123;</span></span><br><span class="line">                        x:14*(R+2)*index + j*2*(R+1)+(R+1),</span><br><span class="line">                        y:i*2*(R+1)+(R+1),</span><br><span class="line"><span class="javascript">                        stepX:<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">4</span> <span class="number">-2</span>),</span></span><br><span class="line"><span class="javascript">                        stepY:<span class="number">-2</span>*numArray[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*numArray.length)],</span></span><br><span class="line"><span class="javascript">                        color:colorArray[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*colorArray.length)],</span></span><br><span class="line">                        disY:1</span><br><span class="line">                    &#125;;</span><br><span class="line">                    balls.push(ball);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="comment">/*渲染*/</span></span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">render</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//重置画布宽度，达到清空画布的效果</span></span></span><br><span class="line">        canvas.height = 100;</span><br><span class="line"><span class="actionscript">        <span class="comment">//渲染时钟</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++)&#123;</span></span><br><span class="line">            renderDigit(i,data[i]);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="actionscript">        <span class="comment">//渲染小球</span></span></span><br><span class="line"><span class="actionscript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; balls.length; i++)&#123;</span></span><br><span class="line">            cxt.beginPath();</span><br><span class="line"><span class="javascript">            cxt.arc(balls[i].x,balls[i].y,R,<span class="number">0</span>,<span class="number">2</span>*<span class="built_in">Math</span>.PI);</span></span><br><span class="line">            cxt.fillStyle = balls[i].color;</span><br><span class="line">            cxt.closePath();</span><br><span class="line">            cxt.fill();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    clearInterval(oTimer);</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> oTimer = setInterval(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="comment">//更新时钟</span></span></span><br><span class="line">        updateDigitTime();</span><br><span class="line"><span class="actionscript">        <span class="comment">//更新小球状态</span></span></span><br><span class="line">        updateBalls();</span><br><span class="line"><span class="actionscript">        <span class="comment">//渲染</span></span></span><br><span class="line">        render();</span><br><span class="line">    &#125;,50);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="在siderbar中引用"><a href="#在siderbar中引用" class="headerlink" title="在siderbar中引用"></a>在siderbar中引用</h3><figure class="highlight yml"><figcaption><span>文件路径： \themes\next\layout\_macro\sidebar.swig</span></figcaption><table><tr><td class="code"><pre><span class="line">      <span class="string">&lt;div</span> <span class="string">class="site-overview-wrap</span> <span class="string">sidebar-panel"&gt;</span></span><br><span class="line">        <span class="string">&#123;&#123;</span> <span class="string">partial('_partials/sidebar/site-overview.swig',</span> <span class="string">&#123;&#125;,</span> <span class="string">&#123;cache:</span> <span class="string">theme.cache.enable&#125;)</span> <span class="string">&#125;&#125;</span></span><br><span class="line">       </span><br><span class="line">        <span class="string">&#123;&#123;-</span> <span class="string">next_inject('sidebar')</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="string">+</span>        <span class="string">&#123;%</span> <span class="string">include</span> <span class="string">'../_custom/clock.swig'</span> <span class="string">%&#125;</span></span><br><span class="line">      <span class="string">&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="string">&#123;%-</span> <span class="string">if</span> <span class="string">theme.back2top.enable</span> <span class="string">and</span> <span class="string">theme.back2top.sidebar</span> <span class="string">%&#125;</span></span><br><span class="line">        <span class="string">&lt;div</span> <span class="string">class="back-to-top</span> <span class="string">motion-element"&gt;</span></span><br><span class="line">          <span class="string">&lt;i</span> <span class="string">class="fa</span> <span class="string">fa-arrow-up"&gt;&lt;/i&gt;</span></span><br><span class="line">          <span class="string">&lt;span&gt;0%&lt;/span&gt;</span></span><br><span class="line">        <span class="string">&lt;/div&gt;</span></span><br><span class="line">      <span class="string">&#123;%-</span> <span class="string">endif</span> <span class="string">%&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&lt;/div&gt;</span></span><br><span class="line">  <span class="string">&lt;/aside&gt;</span></span><br><span class="line">  <span class="string">&lt;div</span> <span class="string">id="sidebar-dimmer"&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&#123;%</span> <span class="string">endmacro</span> <span class="string">%&#125;</span></span><br></pre></td></tr></table></figure>

<p><code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code>预览效果即可</p>
]]></content>
      <categories>
        <category>技术</category>
        <category>博客</category>
      </categories>
      <tags>
        <tag>hexo搭建</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/archives/4a17b156.html</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><a id="more"></a>
<h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
      <tags>
        <tag>hello</tag>
      </tags>
  </entry>
  <entry>
    <title>Covid-19 纪实-深圳（第25天）</title>
    <url>/archives/d4dbd5d5.html</url>
    <content><![CDATA[<blockquote class="blockquote-center"><p>Covid-19疫情第77天 </p>
</blockquote>

<a id="more"></a>
<h4 id="今天是2020年2月24日，武汉肺炎（Covid-19）2019年12月8日出现第一起确诊案例后的第77天，深圳正式复工第15天"><a href="#今天是2020年2月24日，武汉肺炎（Covid-19）2019年12月8日出现第一起确诊案例后的第77天，深圳正式复工第15天" class="headerlink" title="今天是2020年2月24日，武汉肺炎（Covid-19）2019年12月8日出现第一起确诊案例后的第77天，深圳正式复工第15天"></a>今天是2020年2月24日，武汉肺炎（Covid-19）2019年12月8日出现第一起确诊案例后的第77天，深圳正式复工第15天</h4><h4 id="开始世界范围蔓延的肺炎病毒"><a href="#开始世界范围蔓延的肺炎病毒" class="headerlink" title="开始世界范围蔓延的肺炎病毒"></a>开始世界范围蔓延的肺炎病毒</h4><p><strong>意大利</strong>截止今天，累计确诊215例子，现存确诊209例，死亡5例，治愈2例，是欧洲爆发的聚集地。</p>
<p><img src="http://q54tnf1e7.bkt.clouddn.com/9dcab76a98b259a1af9ade37b10cd81.jpg?imageView2/0/interlace/1/q/88%7Cwatermark/2/text/QOWHoOexs-Wkp-Wkpw==/font/5qW35L2T/fontsize/560/fill/IzNEM0Q0Ng==/dissolve/66/gravity/SouthEast/dx/10/dy/10%7Cimageslim" alt=""></p>
<h4 id="疫情：全国和全球"><a href="#疫情：全国和全球" class="headerlink" title="疫情：全国和全球"></a>疫情：全国和全球</h4><p><img src="http://q54tnf1e7.bkt.clouddn.com/ed8785badd44e5ca46f22ef7e61800e.jpg?imageView2/0/interlace/1/q/88%7Cwatermark/2/text/QOWHoOexs-Wkp-Wkpw==/font/5qW35L2T/fontsize/560/fill/IzNEM0Q0Ng==/dissolve/66/gravity/SouthEast/dx/10/dy/10%7Cimageslim" alt=""></p>
<p><img src="http://q54tnf1e7.bkt.clouddn.com/52e1c6a3a6d96b1368185aada503472.jpg?imageView2/0/interlace/1/q/88%7Cwatermark/2/text/QOWHoOexs-Wkp-Wkpw==/font/5qW35L2T/fontsize/560/fill/IzNEM0Q0Ng==/dissolve/66/gravity/SouthEast/dx/10/dy/10%7Cimageslim" alt=""></p>
<p>今天武汉公安进行了暴乱压制的演练，为了防止出现类似的情况，山东济宁监狱爆发聚集感染，湖北孝感军队出现感染，中共两会预计会被推迟，多数常委赞同两会延迟。</p>
<p>日本的钻石公主号邮轮，共计约3000人在游轮上，从发现有感染案例以来，累积确诊691例，现存确诊688例子，死亡3例，这个邮轮让我想到了那部电影《恐怖邮轮》</p>
<p>深圳金基百纳天虹购物广场，一名红衣女子因为没有佩戴口罩被公安暴力执法，按倒在地，执法力度之大，我没有见过，呵呵。</p>
<h4 id="全球经济受到影响"><a href="#全球经济受到影响" class="headerlink" title="全球经济受到影响"></a>全球经济受到影响</h4><p>依赖中国市场的众多国家的经济受到大范围影响，今年以来油价下跌11%，牛肉、咖啡、柑橘等出口受到限制。而国内的猪肉价格今年以来上涨了116%</p>
<h4 id="某种阴谋论"><a href="#某种阴谋论" class="headerlink" title="某种阴谋论"></a>某种阴谋论</h4><p>华南海鲜市场，可能不是病毒的发源地，世界各地已经发现病例<strong>没有与中国确诊病例的流行病学上的联系</strong></p>
<h4 id="Today"><a href="#Today" class="headerlink" title="Today"></a>Today</h4><p>今天在家办公，外面的世界貌似在经历世界末日来临前的模式，没有出门，期待可以出门打球，跑步的那天，加油。</p>
]]></content>
      <categories>
        <category>武汉新型冠状病毒</category>
      </categories>
      <tags>
        <tag>疫情记录</tag>
      </tags>
  </entry>
</search>
